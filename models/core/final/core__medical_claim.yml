version: 2
models:
- name: core__medical_claim
  description: >
    The medical claim table contains information on services rendered to  patients
    and billed by the provider to the insurer as claims.
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_core
      {% else %}core{%- endif -%}
    alias: medical_claim
    tags: core
    materialized: table
  columns:
  - name: test
    description: test  - name: medical_claim_id
    description: Unique identifier for each row in the table.
    tests:
    - unique:
        config:
          severity: error
  - name: claim_id
    description: Unique identifier for each claim.
  - name: claim_line_number
    description: >
      Indicates the line number for the particular line of the claim.
    data_type: integer
  - name: encounter_id
    description: >
      The encounter_id for the encounter that this claims belongs to.
  - name: claim_type
    description: >
      Indicates whether the claim is professional (CMS-1500), institutional  (UB-04),
      dental, or vision.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__claim_type.csv
  - name: patient_id
    description: Unique identifier for each patient in the dataset.
  - name: member_id
    description: >
      Identifier that links a patient to a particular insurance product or  health
      plan. A patient can have more than one member_id because they  can have more
      than one insurance product/plan.
  - name: payer
    description: Name of the payer
  - name: plan
    description: Name of the plan
  - name: claim_start_date
    description: Start date for the claim.
  - name: claim_end_date
    description: End date for the claim.
  - name: claim_line_start_date
    description: Start date for the claim line.
  - name: claim_line_end_date
    description: End date for the claim line.
  - name: admission_date
    description: Admission date for the claim (inpatient claims only).
  - name: discharge_date
    description: Discharge date for the claim (inpatient claims only).
  - name: service_category_1
    description: The broader service category this claim belongs to.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/service_categories/service_category__service_categories.csv
  - name: service_category_2
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/service_categories/service_category__service_categories.csv
    description: The more specific service category this claim belongs to.
  - name: admit_source_code
    description: >
      Indicates where the patient was before the healthcare encounter  (inpatient
      claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__admit_source.csv
  - name: admit_source_description
    description: ''
  - name: admit_type_code
    description: Indicates the type of admission (inpatient claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__admit_type.csv
  - name: admit_type_description
    description: ''
  - name: discharge_disposition_code
    description: >
      Indicates the type of setting the patient was discharged to  (institutional
      inpatient claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__discharge_disposition.csv
  - name: discharge_disposition_description
    description: ''
  - name: place_of_service_code
    description: Place of service for the claim (professional claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__place_of_service.csv
  - name: place_of_service_description
    description: ''
  - name: bill_type_code
    description: Bill type code for the claim (institutional claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__bill_type.csv
  - name: bill_type_description
    description: ''
  - name: ms_drg_code
    description: MS-DRG for the claim (inpatient claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__ms_drg.csv
  - name: ms_drg_description
    description: ''
  - name: apr_drg_code
    description: APR-DRG for the claim (inpatient claims only).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__apr_drg.csv
  - name: apr_drg_description
    description: ''
  - name: revenue_center_code
    description: >
      Revenue center code for the claim line (institutional only and  typically multiple
      codes per claim).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__revenue_center.csv
  - name: revenue_center_description
    description: ''
  - name: service_unit_quantity
    description: The number of units for the particular revenue center code.
    data_type: integer
  - name: hcpcs_code
    description: HCPCS level 1 or level 2 code for the claim line.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: hcpcs_modifier_1
    description: 1st modifier for HCPCS code.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: hcpcs_modifier_2
    description: 2nd modifier for HCPCS code.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: hcpcs_modifier_3
    description: 3rd modifier for HCPCS code.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: hcpcs_modifier_4
    description: 4th modifier for HCPCS code.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: hcpcs_modifier_5
    description: 5th modifier for HCPCS code.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__hcpcs_level_2.csv
  - name: rendering_id
    description: ''
  - name: rendering_tin
    description: >
      Rendering provider tax identification number (TIN).
  - name: rendering_name
    description: ''
  - name: billing_id
    description: ''
  - name: billing_tin
    description: >
      Billing provider tax identification number (TIN).
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/terminology/terminology__provider.csv
      terminology_note: "**Note: this terminology set is too large to be loaded as
        a seed and is instead loaded from public cloud storage for supported adapters."
  - name: billing_name
    description: ''
  - name: facility_id
    description: ''
  - name: facility_name
    description: ''
  - name: paid_date
    description: The date the claim was paid.
  - name: paid_amount
    description: The total amount paid on the claim by the insurer.
  - name: allowed_amount
    description: >
      The total amount allowed (includes amount paid by the insurer and  patient)
      on the claim.
  - name: charge_amount
    description: The total amount charged on the claim by the provider.
  - name: coinsurance_amount
    description: The total coinsurance charged on the claim by the provider.
  - name: copayment_amount
    description: The total copayment charged on the claim by the provider.
  - name: deductible_amount
    description: The total amount charged on the claim by the provider.
  - name: total_cost_amount
    description: The total amount paid on the claim by different parties.
  - name: in_network_flag
    description: ''
  - name: enrollment_flag
    description: ''
  - name: data_source
    description: >
      User-configured field that indicates the data source (e.g. typically  named
      after the payer and state "BCBS Tennessee").
  - name: tuva_last_run
    description: >
      The last time the data was refreshed.  Generated by  `dbt_utils.pretty_time`
      as the local time of the `dbt run`  environment.  Timezone is configurable via
      the `tuva_last_run` var.

