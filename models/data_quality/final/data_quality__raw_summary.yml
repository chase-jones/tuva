version: 2
models:
- name: data_quality__raw_summary
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: raw_summary
    tags:
    - claims
    - clinical
    - final
    materialized: table
  columns:
  - name: test
    description: test
  - name: source
    description: Whether info came from raw data or input_layer
  - name: table_name
    description: Table data check was run on
  - name: row_count
    description: Number of rows in table
  - name: unique_check
    description: Number of unique values in the table
  - name: unique_check_desc
    description: Explanation of what the unique check is on that specific table
  - name: table_order
    description: Column used to sort the result set in a logical order
  - name: tuva_last_run
    description: >
      The last time the data was refreshed.  Generated by  `dbt_utils.pretty_time`
      as the local time of the `dbt run`  environment.  Timezone is configurable via
      the `tuva_last_run` var.



