version: 2
models:
- name: quality_measures__summary_counts
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_quality_measures{% else %}quality_measures{%- endif -%}
    alias: summary_counts
    tags: quality_measures
    materialized: table
  description: Reporting measure counts with performance rates.
  columns:
  - name: test
    description: test
  - name: measure_id
    description: Unique measure identification number.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: measure_name
    description: Name of the measure.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: measure_version
    description: Version of the measure.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: performance_period_begin
    description: Beginning date of the performance or measurement period.
  - name: performance_period_end
    description: Ending date of the performance or measurement period.
  - name: denominator_sum
    description: >
      The denominator is associated with a given patient population that  may be counted
      as eligible to meet a measureâ€™s inclusion requirements.
  - name: numerator_sum
    description: >
      The numerator reflects the subset of patients in the denominator  for whom a
      particular service has been provided or for whom a  particular outcome has been
      achieved with exclusion logic applied.
  - name: exclusion_sum
    description: >
      Specifications of those characteristics that would cause groups of  individuals
      to be removed from the numerator and/or denominator of  a measure although they
      experience the denominator index event.
  - name: performance_rate
    description: >
      Calculated performance rate. The numerator sum divided by the  denominator sum
      after exclusion logic applied and multiplied by 100.
  - name: tuva_last_run
    description: The date and timestamp of the dbt run.

