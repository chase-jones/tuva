version: 2
models:
- name: quality_measures__summary_wide
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_quality_measures{% else %}quality_measures{%- endif -%}
    alias: summary_wide
    tags: quality_measures
    materialized: table
  description: >
    Wide view of the results for the reporting version of all measures.
    This model pivots measures on the patient level (i.e. one row per patient
    with flags for each measure. The false flags can be treated as care gaps
    as exclusions have been included in the pivot logic.
  columns:
  - name: test
    description: test
  - name: patient_id
    description: Unique patient_id for each person.
  - name: nqf_2372
    description: >
      Performance flag for NQF2372, Breast Cancer Screening. A null  indicates that
      the measure was not applicable for the patient.
  - name: nqf_0034
    description: >
      Performance flag for NQF0034, Colorectal Cancer Screening. A null  indicates
      that the measure was not applicable for the patient.
  - name: nqf_0059
    description: >
      Performance flag for NQF0059, Diabetes: Hemoglobin A1c (HbA1c) Poor  Control
      (> 9%). A null indicates that the measure was not applicable  for the patient.
  - name: cqm_236
    description: >
      Performance flag for CQM236, Controlling High Blood Pressure. A null  indicates
      that the measure was not applicable for the patient.
  - name: nqf_0053
    description: >
      Performance flag for NQF0053, Osteoporosis Management in Women Who  Had a Fracture.
      A null indicates that the measure was not applicable  for the patient.
  - name: cbe_0055
    description: >
      Performance flag for CBE0055, Diabetes: Eye Exam. A null  indicates that the
      measure was not applicable for the patient.
  - name: nqf_0097
    description: >
      Performance flag for NQF0097, Medication Reconciliation Post-Discharge. A null  indicates
      that the measure was not applicable for the patient.
  - name: cqm_438
    description: >
      Performance flag for CQM438, Statin Therapy for the Prevention and  Treatment
      of Cardiovascular Disease. A null indicates that the  measure was not applicable
      for the patient.
  - name: nqf_0041
    description: >
      Performance flag for NQF0041, Influenza Immunization. A null indicates that
      the  measure was not applicable for the patient.
  - name: cbe_0101
    description: >
      Performance flag for CBE0101, Falls: Plan of Care. A null indicates that the  measure
      was not applicable for the patient.
  - name: tuva_last_run
    description: The date and timestamp of the dbt run.

## Shared Exclusions
