version: 2
models:
- name: quality_measures__summary_long
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_quality_measures{% else %}quality_measures{%- endif -%}
    alias: summary_long
    tags: quality_measures
    materialized: table
  description: >
    Long view of the results for the reporting version of all measures.
    Each row represents the results a measure per patient. A null for the  denominator
    indicates that the patient was not eligible for that measure.
  columns:
  - name: test
    description: test  - name: patient_id
    description: Unique patient_id for each person.
  - name: denominator_flag
    description: >
      The denominator is associated with a given patient population that  may be counted
      as eligible to meet a measureâ€™s inclusion requirements.
  - name: numerator_flag
    description: >
      The numerator reflects the subset of patients in the denominator  for whom a
      particular service has been provided or for whom a  particular outcome has been
      achieved.
  - name: exclusion_flag
    description: >
      Specifications of those characteristics that would cause groups of  individuals
      to be removed from the numerator and/or denominator of  a measure although they
      experience the denominator index event.
  - name: performance_flag
    description: >
      Performance flag calculated by using exclusion, numerator, and  denominator
      flags. When excluded from a measure the flag is null.
  - name: evidence_date
    description: >
      Date of event or service that places patient in the numerator.
  - name: evidence_value
    description: >
      Observed evidence value for the patients in the numerator.
  - name: exclusion_date
    description: >
      Date of event or service that excludes patient from the measure.
  - name: exclusion_reason
    description: >
      Reason (usually the value set concept name) that excludes patient  from the
      measure.
  - name: performance_period_begin
    description: Beginning date of the performance or measurement period.
  - name: performance_period_end
    description: Ending date of the performance or measurement period.
  - name: measure_id
    description: Unique measure identification number.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: measure_name
    description: Name of the measure.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: measure_version
    description: Version of the measure.
    meta:
      terminology: 
        https://github.com/tuva-health/the_tuva_project/blob/main/seeds/value_sets/quality_measures/quality_measures__measures.csv
  - name: tuva_last_run
    description: The date and timestamp of the dbt run.

